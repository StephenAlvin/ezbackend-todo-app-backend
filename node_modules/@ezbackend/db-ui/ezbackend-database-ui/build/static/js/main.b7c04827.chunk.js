(this["webpackJsonpezbackend-database-ui"]=this["webpackJsonpezbackend-database-ui"]||[]).push([[0],{329:function(e,t,n){},538:function(e,t,n){},569:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),i=n(17),a=n.n(i),r=(n(329),n(8)),s=n(623),l=n(617),d=n(621),j=n(620),h=n(624),b=n(86),u=n(75),O=n(99),f=n(570),m=n(6);var x=function(e){return Object(m.jsx)(f.a,{button:!0,children:Object(m.jsx)(O.a,{children:Object(m.jsx)(s.a,{color:"white",fontFamily:"monospace",children:e.name})})})},p=n(294),g=n.n(p),v=n(23),y=n(291),w=n(618),C=n(133),S=n(84);function k(){return window.location.protocol+"//"+window.location.host}function E(e){return e.value instanceof Object?"toBeReplaced":""}var I=n(616);function R(e){return e.replace(/^(db-ui\/)/,"")}var D=n(200),T=n(271),F=Object(D.a)((function(){return Object(T.a)({listItem:{"&$selected, &$selected:hover":{backgroundColor:"#3B3228"},borderRadius:6},selected:{}})}));function B(e){var t=F(),n=R(e.selectedItem)===R(e.text);return Object(m.jsx)(f.a,{button:!0,selected:n,onClick:function(){return e.handleListItemClick(e.text)},classes:{root:t.listItem,selected:t.selected},children:Object(m.jsx)(I.a,{children:Object(m.jsx)(O.a,{variant:"body2",noWrap:!0,children:Object(m.jsx)(s.a,{component:"div",fontFamily:n?"monospace":"Inter",fontWeight:"normal",fontSize:n?16:14,color:n?"#F5EEEB":"#404040",overflow:"hidden",textOverflow:"ellipsis",children:R(e.text)})})})})}var N=n(290),H=n.n(N),L=n(98),P=n.n(L),z=n(289),J=n.n(z),W=n(626);function M(e){S.b.promise(e,{loading:"Loading",success:"Updated",error:function(e){return e.toString()}},{error:{duration:5e3}})}var U=n(295),A=k();function G(e){return Object(m.jsx)("div",{children:Object(m.jsx)(W.a,{open:e.open,onClose:e.handleCloseDialog,maxWidth:"xs",children:Object(m.jsx)(s.a,{padding:4,marginBottom:0,children:Object(m.jsx)(U.a,{schema:e.getCreateSchema(),onSubmit:function(t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.formData)};M(fetch("".concat(A,"/").concat(e.selectedItem,"/"),n).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).finally((function(){e.handleCloseDialog(),e.handleGetRowData()})))}})})})})}var $=n(177),_=n.n($),q=n(132),K=n.n(q);n(538);K.a.config();var Q=k();var V=function(){var e,t=Object(c.useState)([]),n=Object(r.a)(t,2),o=n[0],i=n[1],a=Object(c.useState)([]),d=Object(r.a)(a,2),j=d[0],u=d[1],f=Object(c.useState)([]),x=Object(r.a)(f,2),p=x[0],g=x[1],k=Object(c.useState)([]),I=Object(r.a)(k,2),R=I[0],D=I[1],T=Object(c.useState)([]),F=Object(r.a)(T,2),N=F[0],L=F[1],z=Object(c.useState)(""),W=Object(r.a)(z,2),U=W[0],A=W[1],$=Object(c.useState)(!1),q=Object(r.a)($,2),K=q[0],V=q[1],X=Object(c.useState)([]),Y=Object(r.a)(X,2),Z=Y[0],ee=Y[1],te=Object(c.useState)({}),ne=Object(r.a)(te,2),ce=ne[0],oe=ne[1];function ie(e){A(e),M(re(e)),ae(e,o),oe({})}function ae(e,t){null===t||void 0===t||t.forEach((function(t){e===t.schemaName&&D(Object.keys(t.properties).map((function(e){return{field:e,width:e.length>5?150:45*e.length,editable:"id"!==e}})))}))}function re(e){return fetch("".concat(Q,"/").concat(e,"/")).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){L(e)}))}function se(){var e=Object(v.a)(j),t=null===e||void 0===e?void 0:e.filter((function(e){return e.title===U}))[0];return 0===j.length||void 0===t?null:t}return Object(c.useEffect)((function(){fetch("".concat(Q,"/docs/json")).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){var t=(e=Object.values(e.components.schemas)).map((function(e){return{schemaName:e.title,properties:e.properties}})).filter((function(e){return e.schemaName.includes("fullSchema-")})).map((function(e){return{schemaName:e.schemaName.replace("fullSchema-",""),properties:e.properties}})),n=t.map((function(e){return e.schemaName})),c=e.filter((function(e){return e.title.includes("createSchema-")}));c.forEach((function(e){e.title=e.title.replace("createSchema-","")})),i(t),u(c),g(n);var o=n[0];A(o),re(o),ae(o,t)})).catch((function(e){return Object(S.b)("ERROR",e.message)}))}),[]),Object(m.jsx)(w.a,{in:!0,timeout:600,children:Object(m.jsxs)(s.a,{bgcolor:"#EEEEEE",minHeight:"100vh",padding:4,children:[Object(m.jsxs)(l.a,{container:!0,direction:"row",justifyContent:"center",spacing:5,children:[Object(m.jsx)(l.a,{item:!0,xs:12,md:3,children:Object(m.jsxs)(l.a,{container:!0,direction:"column",spacing:5,children:[Object(m.jsx)(l.a,{item:!0,children:Object(m.jsx)(s.a,{style:{borderRadius:10,backgroundColor:"white",padding:24,overflow:"hidden"},children:Object(m.jsx)(C.Scrollbars,{autoHide:!0,autoHideTimeout:100,style:{width:"100%",minHeight:"200px"},children:(e=p,e.filter((function(e){return e.startsWith("db-ui/")}))).map((function(e){return Object(m.jsx)(B,{text:e,selectedItem:U,handleListItemClick:ie},e)}))})})}),Object(m.jsx)(h.a,{smDown:!0,children:Object(m.jsx)(l.a,{item:!0,children:Object(m.jsx)(C.Scrollbars,{style:{width:"100%",minHeight:"300px",borderRadius:10},children:Object(m.jsx)(_.a,{src:ce,style:{padding:18,borderRadius:10},theme:"mocha"})})})})]})}),Object(m.jsx)(l.a,{item:!0,xs:12,md:9,children:Object(m.jsxs)(l.a,{container:!0,direction:"column",spacing:2,children:[Object(m.jsx)(l.a,{item:!0,children:Object(m.jsxs)(l.a,{container:!0,direction:"row",alignItems:"flex-end",children:[Object(m.jsx)(l.a,{item:!0,children:Object(m.jsx)(s.a,{marginLeft:1,children:Object(m.jsx)(O.a,{color:"textSecondary",variant:"subtitle2",children:"Click row to view json | Double-click cell to edit | Select row to delete"})})}),Object(m.jsx)(l.a,{item:!0,xs:!0,children:Object(m.jsxs)(l.a,{container:!0,justifyContent:"flex-end",children:[Object(m.jsx)(l.a,{item:!0,children:Object(m.jsx)(b.a,{color:"primary",onClick:function(){se()&&V(!0)},children:Object(m.jsx)(P.a,{})})}),Object(m.jsx)(l.a,{item:!0,children:Object(m.jsx)(b.a,{children:Object(m.jsx)(J.a,{onClick:function(){M(re(U))}})})}),Object(m.jsx)(l.a,{item:!0,children:Object(m.jsx)(b.a,{onClick:function(){var e=Object(v.a)(Z);0===e.length&&Object(S.b)("Please select some rows"),e.forEach((function(e){M(fetch("".concat(Q,"/").concat(U,"/").concat(e),{method:"DELETE"}).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).finally((function(){return re(U)})))}))},children:Object(m.jsx)(H.a,{})})})]})})]})}),Object(m.jsx)(l.a,{item:!0,children:Object(m.jsx)(y.a,{style:{height:"79vh",backgroundColor:"#fff",borderRadius:10,borderStyle:"hidden",padding:12,fontFamily:"Inter"},rows:N,columns:R,checkboxSelection:!0,disableSelectionOnClick:!0,onSelectionModelChange:function(e){ee(e)},onCellEditCommit:function(e){!function(e){var t=e.id,n={};n[e.field]=e.value;var c={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};M(fetch("".concat(Q,"/").concat(U,"/").concat(t),c).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).finally((function(){re(U)})))}(e)},onRowClick:function(e){oe(e.row)},getCellClassName:E})})]})}),Object(m.jsx)(h.a,{mdUp:!0,children:Object(m.jsx)(l.a,{item:!0,xs:12,children:Object(m.jsx)(C.Scrollbars,{style:{width:"100%",height:"300px",borderRadius:10},children:Object(m.jsx)(_.a,{src:ce,style:{padding:18,borderRadius:10},theme:"mocha"})})})}),Object(m.jsx)(O.a,{variant:"body1",align:"center",children:Object(m.jsx)(s.a,{fontFamily:"monospace",children:"Powered by EzBackend"})})]}),Object(m.jsx)(G,{open:K,getCreateSchema:se,handleGetRowData:function(){return re(U)},selectedItem:U,handleCloseDialog:function(){V(!1)}}),Object(m.jsx)(S.a,{position:"bottom-left",toastOptions:{duration:800}})]})})};n(540);K.a.config();var X=k();function Y(){return Object(m.jsx)(w.a,{in:!0,timeout:600,children:Object(m.jsx)("rapi-doc",{"rapi-doc":!0,"spec-url":"".concat(X,"/docs/json"),"render-style":"read",style:{height:"92vh",width:"100%"},"nav-bg-color":"#3B3228","show-header":"false"})})}var Z=n(136),ee=n(21),te=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Z.b,{to:"/",style:{textDecoration:"none"},children:Object(m.jsx)(x,{name:"Database"})}),Object(m.jsx)(Z.b,{to:"/api-documentation",style:{textDecoration:"none"},children:Object(m.jsx)(x,{name:"API Docs"})})]});var ne=function(e){return Object(m.jsx)(s.a,{bgcolor:"eee",minHeight:"100vh",children:Object(m.jsx)(Z.a,{basename:"/db-ui",children:Object(m.jsxs)(l.a,{container:!0,direction:"column",style:{backgroundColor:"#eee",minHeight:"100vh"},children:[Object(m.jsx)(l.a,{item:!0,children:Object(m.jsx)(d.a,{position:"relative",elevation:0,style:{backgroundColor:"#3B3228"},children:Object(m.jsxs)(j.a,{children:[Object(m.jsx)(h.a,{smUp:!0,children:Object(m.jsx)(b.a,{edge:"start",color:"inherit",onClick:e.handleOpen,children:Object(m.jsx)(g.a,{})})}),Object(m.jsx)(u.a,{style:{textTransform:"none"},onClick:function(){!function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}("https://www.ezbackend.io/")},children:Object(m.jsx)(O.a,{variant:"h5",align:"center",children:Object(m.jsx)(s.a,{fontFamily:"monospace",padding:2,color:"#F5EEEB",children:"EzBackend"})})}),te]})})}),Object(m.jsx)(l.a,{item:!0,children:Object(m.jsxs)(ee.c,{children:[Object(m.jsx)(ee.a,{path:"/api-documentation",children:Object(m.jsx)(Y,{})}),Object(m.jsx)(ee.a,{path:"/",children:Object(m.jsx)(V,{})})]})})]})})})},ce=n(69),oe=n(619),ie=n(622),ae=Object(ce.b)({typography:{fontFamily:"Inter, Roboto Mono, monospace"}});var re=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],o=t[1];return Object(m.jsxs)(oe.a,{theme:ae,children:[Object(m.jsx)(ie.a,{}),Object(m.jsx)(ne,{open:n,handleClose:function(){o(!1)},handleOpen:function(){o(!0)}})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,628)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};a.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(re,{})}),document.getElementById("root")),se()}},[[569,1,2]]]);
//# sourceMappingURL=main.b7c04827.chunk.js.map